<html>
<head>
    <!--<script src="https://cdn.socket.io/socket.io-3.1.3.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf-8">
    var socket = io.connect("http://localhost:5000");
    socket.on('connect', function() {
        socket.send('I\'m connected!');
    });
    socket.on('message', function(data) {
            console.log('Received message: ' + data);
            // Handle the received message
            chat = document.getElementById("messages");
            var paragraph = document.createElement('p');
            paragraph.textContent = data;
            chat.appendChild(paragraph);
        });
</script>
    <script>
        function sendMessage() {
            var message = document.getElementById('message').value;
            username = document.getElementById('username').textContent;
            socket.send(username + ":" + message);
            document.getElementById('message').value = '';
        }
    </script>
</head>
    <script type="module" src="../static/scripts/header.js"></script>

    <my-header></my-header>
    
<body style="text-align: center; font-family: Arial; font-size: 14pt;">
    <div id="messages" style="margin: 0 auto; width:60%; text-align: center; min-height: 200px;">

    </div>
    <p id="username" style="display: inline;">{{ name }}</p>
    <input type="text" id="message" placeholder="message">
    <button id="btn" onclick="sendMessage()">Send</button>
</body>
</html>
